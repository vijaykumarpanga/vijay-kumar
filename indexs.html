<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Decentralized Resume Verification</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      background: linear-gradient(135deg, #e0f2fe 0%, #bfdbfe 100%);
      min-height: 100vh;
      padding: 20px;
    }

    .app-container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .header {
      text-align: center;
      margin-bottom: 40px;
      color: #1e3a8a;
    }

    .header h1 {
      font-size: 36px;
      font-weight: 700;
      margin-bottom: 10px;
    }

    .header p {
      font-size: 16px;
      color: #64748b;
    }

    .main-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 24px;
      margin-bottom: 24px;
    }

    @media (max-width: 968px) {
      .main-grid {
        grid-template-columns: 1fr;
      }
    }

    .card {
      background: white;
      border-radius: 16px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
      padding: 32px;
    }

    .card h2 {
      color: #1e3a8a;
      font-size: 24px;
      margin-bottom: 24px;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .input-group {
      margin-bottom: 20px;
    }

    .input-group label {
      display: block;
      color: #374151;
      font-weight: 600;
      margin-bottom: 8px;
      font-size: 14px;
    }

    .input-group input,
    .input-group textarea {
      width: 100%;
      padding: 12px;
      border: 2px solid #e5e7eb;
      border-radius: 10px;
      font-size: 14px;
      transition: border-color 0.3s ease;
      font-family: inherit;
    }

    .input-group input:focus,
    .input-group textarea:focus {
      outline: none;
      border-color: #2563eb;
    }

    .input-group textarea {
      resize: vertical;
      min-height: 80px;
    }

    .input-group small {
      display: block;
      margin-top: 4px;
      color: #6b7280;
      font-size: 12px;
    }

    button {
      width: 100%;
      padding: 14px 20px;
      margin-top: 12px;
      border: none;
      border-radius: 10px;
      color: white;
      font-weight: 600;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    button:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
    }

    button:active:not(:disabled) {
      transform: translateY(0);
    }

    button:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }

    .btn-primary {
      background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
    }

    .btn-success {
      background: linear-gradient(135deg, #16a34a 0%, #15803d 100%);
    }

    .btn-connected {
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    }

    .status {
      margin-top: 16px;
      padding: 14px;
      border-radius: 10px;
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 14px;
    }

    .status.info {
      background-color: #f3f4f6;
      color: #6b7280;
    }

    .status.success {
      background-color: #d1fae5;
      color: #065f46;
      border: 1px solid #a7f3d0;
    }

    .status.error {
      background-color: #fee2e2;
      color: #991b1b;
      border: 1px solid #fecaca;
    }

    .admin-badge {
      display: inline-block;
      background-color: #dbeafe;
      color: #1e40af;
      padding: 4px 10px;
      border-radius: 6px;
      font-size: 12px;
      font-weight: 600;
      margin-left: 8px;
    }

    .resume-list {
      display: grid;
      gap: 16px;
      max-height: 500px;
      overflow-y: auto;
      padding-right: 8px;
    }

    .resume-item {
      background: #f9fafb;
      border: 2px solid #e5e7eb;
      border-radius: 12px;
      padding: 16px;
      transition: all 0.3s ease;
    }

    .resume-item:hover {
      border-color: #2563eb;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    }

    .resume-header {
      display: flex;
      justify-content: space-between;
      align-items: start;
      margin-bottom: 12px;
    }

    .resume-info h3 {
      color: #1e3a8a;
      font-size: 18px;
      margin-bottom: 4px;
    }

    .resume-info p {
      color: #6b7280;
      font-size: 14px;
    }

    .resume-badge {
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
    }

    .resume-badge.verified {
      background-color: #dcfce7;
      color: #166534;
    }

    .resume-badge.pending {
      background-color: #fef3c7;
      color: #92400e;
    }

    .resume-details {
      color: #4b5563;
      font-size: 14px;
      line-height: 1.6;
      margin-bottom: 12px;
    }

    .resume-skills {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 12px;
    }

    .skill-tag {
      background-color: #dbeafe;
      color: #1e40af;
      padding: 4px 10px;
      border-radius: 6px;
      font-size: 12px;
      font-weight: 500;
    }

    .resume-actions {
      display: flex;
      gap: 8px;
    }

    .resume-actions button {
      margin-top: 0;
      padding: 8px 16px;
      font-size: 14px;
    }

    .spinner {
      border: 2px solid #ffffff;
      border-top: 2px solid transparent;
      border-radius: 50%;
      width: 16px;
      height: 16px;
      animation: spin 0.8s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .icon {
      width: 20px;
      height: 20px;
    }

    .empty-state {
      text-align: center;
      padding: 40px;
      color: #6b7280;
    }

    .empty-state svg {
      width: 64px;
      height: 64px;
      margin-bottom: 16px;
      opacity: 0.5;
    }

    .tabs {
      display: flex;
      gap: 8px;
      margin-bottom: 20px;
      border-bottom: 2px solid #e5e7eb;
    }

    .tab {
      padding: 12px 24px;
      background: none;
      border: none;
      color: #6b7280;
      font-weight: 600;
      cursor: pointer;
      position: relative;
      margin: 0;
      width: auto;
      border-radius: 0;
    }

    .tab:hover {
      color: #2563eb;
      transform: none;
      box-shadow: none;
    }

    .tab.active {
      color: #2563eb;
    }

    .tab.active::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      right: 0;
      height: 2px;
      background: #2563eb;
    }

    .note {
      margin-top: 20px;
      padding: 12px;
      background-color: #fef3c7;
      border: 1px solid #fde68a;
      border-radius: 8px;
      font-size: 12px;
      color: #92400e;
      line-height: 1.5;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;

    const CONTRACT_ADDRESS = "0xd8b934580fcE35a11B58C6D73aDeE468a2833fa8";
    const ABI = [
	{
		"inputs": [],
		"stateMutability": "nonpayable",
		"type": "constructor"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "uint256",
				"name": "id",
				"type": "uint256"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "owner",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "string",
				"name": "name",
				"type": "string"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "timestamp",
				"type": "uint256"
			}
		],
		"name": "ResumeSubmitted",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "uint256",
				"name": "id",
				"type": "uint256"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "verifier",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "timestamp",
				"type": "uint256"
			}
		],
		"name": "ResumeVerified",
		"type": "event"
	},
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "_name",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "_email",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "_education",
				"type": "string"
			},
			{
				"internalType": "string[]",
				"name": "_skills",
				"type": "string[]"
			},
			{
				"internalType": "string",
				"name": "_ipfsHash",
				"type": "string"
			}
		],
		"name": "submitResume",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "_newAdmin",
				"type": "address"
			}
		],
		"name": "transferAdmin",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "_resumeId",
				"type": "uint256"
			}
		],
		"name": "unverifyResume",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "_resumeId",
				"type": "uint256"
			}
		],
		"name": "verifyResume",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "admin",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "getAllResumes",
		"outputs": [
			{
				"internalType": "uint256[]",
				"name": "",
				"type": "uint256[]"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "_resumeId",
				"type": "uint256"
			}
		],
		"name": "getResume",
		"outputs": [
			{
				"internalType": "string",
				"name": "name",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "email",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "education",
				"type": "string"
			},
			{
				"internalType": "string[]",
				"name": "skills",
				"type": "string[]"
			},
			{
				"internalType": "string",
				"name": "ipfsHash",
				"type": "string"
			},
			{
				"internalType": "bool",
				"name": "isVerified",
				"type": "bool"
			},
			{
				"internalType": "address",
				"name": "owner",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "timestamp",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "_resumeId",
				"type": "uint256"
			}
		],
		"name": "getResumeOwner",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "getUnverifiedResumes",
		"outputs": [
			{
				"internalType": "uint256[]",
				"name": "",
				"type": "uint256[]"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "_user",
				"type": "address"
			}
		],
		"name": "getUserResumes",
		"outputs": [
			{
				"internalType": "uint256[]",
				"name": "",
				"type": "uint256[]"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "getVerifiedResumes",
		"outputs": [
			{
				"internalType": "uint256[]",
				"name": "",
				"type": "uint256[]"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "_resumeId",
				"type": "uint256"
			}
		],
		"name": "isResumeVerified",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "resumeCount",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"name": "resumes",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "id",
				"type": "uint256"
			},
			{
				"internalType": "string",
				"name": "name",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "email",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "education",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "ipfsHash",
				"type": "string"
			},
			{
				"internalType": "bool",
				"name": "isVerified",
				"type": "bool"
			},
			{
				"internalType": "address",
				"name": "owner",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "timestamp",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"name": "userResumes",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	}
];

    function App() {
      const [walletAddress, setWalletAddress] = useState(null);
      const [isAdmin, setIsAdmin] = useState(false);
      const [isConnecting, setIsConnecting] = useState(false);
      const [contract, setContract] = useState(null);
      const [provider, setProvider] = useState(null);
      const [signer, setSigner] = useState(null);
      
      const [name, setName] = useState('');
      const [email, setEmail] = useState('');
      const [education, setEducation] = useState('');
      const [skills, setSkills] = useState('');
      const [ipfsHash, setIpfsHash] = useState('');
      const [isSubmitting, setIsSubmitting] = useState(false);
      const [submitStatus, setSubmitStatus] = useState(null);
      
      const [resumes, setResumes] = useState([]);
      const [isLoadingResumes, setIsLoadingResumes] = useState(false);
      const [activeTab, setActiveTab] = useState('all');

      useEffect(() => {
        checkWalletConnection();
      }, []);

      useEffect(() => {
        if (contract) {
          loadResumes();
        }
      }, [contract, activeTab]);

      const checkWalletConnection = async () => {
        if (window.ethereum) {
          try {
            const accounts = await window.ethereum.request({ method: 'eth_accounts' });
            if (accounts.length > 0) {
              await connectWallet();
            }
          } catch (error) {
            console.error('Error checking wallet connection:', error);
          }
        }
      };

      const connectWallet = async () => {
        if (isConnecting) return;

        try {
          setIsConnecting(true);

          if (!window.ethereum) {
            alert('MetaMask is not installed. Please install MetaMask to use this app.');
            return;
          }

          const accounts = await window.ethereum.request({
            method: 'eth_requestAccounts'
          });

          const web3Provider = new ethers.providers.Web3Provider(window.ethereum);
          const web3Signer = web3Provider.getSigner();
          const address = await web3Signer.getAddress();

          setProvider(web3Provider);
          setSigner(web3Signer);
          setWalletAddress(address);

          if (CONTRACT_ADDRESS !== "YOUR_DEPLOYED_CONTRACT_ADDRESS") {
            const contractInstance = new ethers.Contract(CONTRACT_ADDRESS, ABI, web3Signer);
            setContract(contractInstance);

            const adminAddress = await contractInstance.admin();
            setIsAdmin(address.toLowerCase() === adminAddress.toLowerCase());
          }

        } catch (error) {
          console.error('Error connecting wallet:', error);
          alert('Failed to connect wallet: ' + error.message);
        } finally {
          setIsConnecting(false);
        }
      };

      const submitResume = async (e) => {
        e.preventDefault();
        
        if (!contract) {
          alert('Please connect your wallet first.');
          return;
        }

        try {
          setIsSubmitting(true);
          setSubmitStatus(null);

          const skillsArray = skills.split(',').map(s => s.trim()).filter(s => s);
          
          const tx = await contract.submitResume(
            name,
            email,
            education,
            skillsArray,
            ipfsHash || `ipfs_${Date.now()}`
          );

          setSubmitStatus({ type: 'info', message: 'Submitting resume...' });
          
          await tx.wait();

          setSubmitStatus({ type: 'success', message: 'Resume submitted successfully!' });
          
          setName('');
          setEmail('');
          setEducation('');
          setSkills('');
          setIpfsHash('');

          setTimeout(() => {
            loadResumes();
            setSubmitStatus(null);
          }, 2000);

        } catch (error) {
          console.error('Error submitting resume:', error);
          setSubmitStatus({ 
            type: 'error', 
            message: error.message || 'Failed to submit resume' 
          });
        } finally {
          setIsSubmitting(false);
        }
      };

      const loadResumes = async () => {
        if (!contract) return;

        try {
          setIsLoadingResumes(true);
          
          let resumeIds;
          if (activeTab === 'my') {
            resumeIds = await contract.getUserResumes(walletAddress);
          } else {
            resumeIds = await contract.getAllResumes();
          }

          const resumePromises = resumeIds.map(async (id) => {
            const resume = await contract.getResume(id);
            return {
              id: id.toString(),
              name: resume[0],
              email: resume[1],
              education: resume[2],
              skills: resume[3],
              ipfsHash: resume[4],
              isVerified: resume[5],
              owner: resume[6],
              timestamp: resume[7].toString()
            };
          });

          let loadedResumes = await Promise.all(resumePromises);

          if (activeTab === 'verified') {
            loadedResumes = loadedResumes.filter(r => r.isVerified);
          } else if (activeTab === 'pending') {
            loadedResumes = loadedResumes.filter(r => !r.isVerified);
          }

          setResumes(loadedResumes.reverse());
        } catch (error) {
          console.error('Error loading resumes:', error);
        } finally {
          setIsLoadingResumes(false);
        }
      };

      const verifyResume = async (resumeId) => {
        if (!contract || !isAdmin) return;

        try {
          const tx = await contract.verifyResume(resumeId);
          await tx.wait();
          loadResumes();
        } catch (error) {
          console.error('Error verifying resume:', error);
          alert('Failed to verify resume: ' + error.message);
        }
      };

      const unverifyResume = async (resumeId) => {
        if (!contract || !isAdmin) return;

        try {
          const tx = await contract.unverifyResume(resumeId);
          await tx.wait();
          loadResumes();
        } catch (error) {
          console.error('Error unverifying resume:', error);
          alert('Failed to unverify resume: ' + error.message);
        }
      };

      return (
        <div className="app-container">
          <div className="header">
            <h1>Decentralized Resume Verification</h1>
            <p>Secure, transparent, and blockchain-powered credential verification</p>
          </div>

          <div className="main-grid">
            <div className="card">
              <h2>
                <svg className="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path>
                </svg>
                Wallet Connection
              </h2>

              <button 
                className={walletAddress ? "btn-connected" : "btn-primary"}
                onClick={connectWallet}
                disabled={isConnecting || walletAddress}
              >
                {isConnecting ? (
                  <>
                    <div className="spinner"></div>
                    Connecting...
                  </>
                ) : walletAddress ? (
                  <>
                    <svg className="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    Connected
                  </>
                ) : (
                  <>
                    <svg className="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path>
                    </svg>
                    Connect Wallet
                  </>
                )}
              </button>

              {walletAddress && (
                <div className="status success">
                  <svg className="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
                  <div>
                    {walletAddress.slice(0, 6)}...{walletAddress.slice(-4)}
                    {isAdmin && <span className="admin-badge">Admin</span>}
                  </div>
                </div>
              )}

              {CONTRACT_ADDRESS === "YOUR_DEPLOYED_CONTRACT_ADDRESS" && (
                <div className="note">
                  <strong>Note:</strong> Update CONTRACT_ADDRESS in the code with your deployed contract address.
                </div>
              )}
            </div>

            <div className="card">
              <h2>
                <svg className="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                </svg>
                Submit Resume
              </h2>

              <form onSubmit={submitResume}>
                <div className="input-group">
                  <label>Full Name *</label>
                  <input
                    type="text"
                    value={name}
                    onChange={(e) => setName(e.target.value)}
                    placeholder="John Doe"
                    required
                  />
                </div>

                <div className="input-group">
                  <label>Email Address *</label>
                  <input
                    type="email"
                    value={email}
                    onChange={(e) => setEmail(e.target.value)}
                    placeholder="john@example.com"
                    required
                  />
                </div>

                <div className="input-group">
                  <label>Education</label>
                  <input
                    type="text"
                    value={education}
                    onChange={(e) => setEducation(e.target.value)}
                    placeholder="Bachelor of Computer Science"
                  />
                </div>

                <div className="input-group">
                  <label>Skills</label>
                  <input
                    type="text"
                    value={skills}
                    onChange={(e) => setSkills(e.target.value)}
                    placeholder="JavaScript, React, Solidity"
                  />
                  <small>Separate skills with commas</small>
                </div>

                <div className="input-group">
                  <label>IPFS Hash (Optional)</label>
                  <input
                    type="text"
                    value={ipfsHash}
                    onChange={(e) => setIpfsHash(e.target.value)}
                    placeholder="QmX..."
                  />
                </div>

                <button 
                  type="submit" 
                  className="btn-success"
                  disabled={isSubmitting || !walletAddress}
                >
                  {isSubmitting ? (
                    <>
                      <div className="spinner"></div>
                      Submitting...
                    </>
                  ) : (
                    <>
                      <svg className="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M12 4v16m8-8H4"></path>
                      </svg>
                      Submit Resume
                    </>
                  )}
                </button>
              </form>

              {submitStatus && (
                <div className={`status ${submitStatus.type}`}>
                  {submitStatus.type === 'success' && (
                    <svg className="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                  )}
                  {submitStatus.type === 'error' && (
                    <svg className="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                  )}
                  {submitStatus.type === 'info' && <div className="spinner"></div>}
                  <span>{submitStatus.message}</span>
                </div>
              )}
            </div>
          </div>

          <div className="card">
            <h2>
              <svg className="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
              </svg>
              Resumes
            </h2>

            <div className="tabs">
              <button 
                className={`tab ${activeTab === 'all' ? 'active' : ''}`}
                onClick={() => setActiveTab('all')}
              >
                All Resumes
              </button>
              <button 
                className={`tab ${activeTab === 'my' ? 'active' : ''}`}
                onClick={() => setActiveTab('my')}
                disabled={!walletAddress}
              >
                My Resumes
              </button>
              <button 
                className={`tab ${activeTab === 'verified' ? 'active' : ''}`}
                onClick={() => setActiveTab('verified')}
              >
                Verified
              </button>
              <button 
                className={`tab ${activeTab === 'pending' ? 'active' : ''}`}
                onClick={() => setActiveTab('pending')}
              >
                Pending
              </button>
            </div>

            {isLoadingResumes ? (
              <div className="empty-state">
                <div className="spinner" style={{ margin: '0 auto' }}></div>
                <p>Loading resumes...</p>
              </div>
            ) : resumes.length === 0 ? (
              <div className="empty-state">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                </svg>
                <p>No resumes found</p>
              </div>
            ) : (
              <div className="resume-list">
                {resumes.map((resume) => (
                  <div key={resume.id} className="resume-item">
                    <div className="resume-header">
                      <div className="resume-info">
                        <h3>{resume.name}</h3>
                        <p>{resume.email}</p>
                      </div>
                      <span className={`resume-badge ${resume.isVerified ? 'verified' : 'pending'}`}>
                        {resume.isVerified ? '✓ Verified' : 'Pending'}
                      </span>
                    </div>

                    <div className="resume-details">
                      <strong>Education:</strong> {resume.education || 'Not specified'}
                    </div>

                    {resume.skills.length > 0 && (
                      <div className="resume-skills">
                        {resume.skills.map((skill, idx) => (
                          <span key={idx} className="skill-tag">{skill}</span>
                        ))}
                      </div>
                    )}

                    <div className="resume-details">
                      <small>ID: {resume.id} | Owner: {resume.owner.slice(0, 6)}...{resume.owner.slice(-4)}</small>
                    </div>

                    {isAdmin && (
                      <div className="resume-actions">
                        {!resume.isVerified ? (
                          <button 
                            className="btn-success"
                            onClick={() => verifyResume(resume.id)}
                          >
                            <svg className="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            Verify
                          </button>
                        ) : (
                          <button 
                            className="btn-primary"
                            onClick={() => unverifyResume(resume.id)}
                          >
                            <svg className="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                            Unverify
                          </button>
                        )}
                      </div>
                    )}
                  </div>
                ))}
              </div>
            )}
          </div>
        </div>
      );
    }

    ReactDOM.render(<App />, document.getElementById('root'));
  </script>
</body>
</html>
